{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Admin/Documents/js/backend/pern-todo-again/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Admin/Documents/js/backend/pern-todo-again/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Admin/Documents/js/backend/pern-todo-again/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditTodo=function EditTodo(_ref){var todo=_ref.todo;var _useState=useState(todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];//edit description function\nvar updateDescription=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var body,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={description:description};_context.next=5;return fetch(\"http://localhost:5000/todos/\".concat(todo.todo_id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function updateDescription(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(todo.todo_id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{class:\"modal\",id:\"id\".concat(todo.todo_id),onClick:function onClick(){return setDescription(todo.description);},children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Edit Todo\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return updateDescription(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"Close\"})]})]})})})]});};export default EditTodo;","map":{"version":3,"names":["React","Fragment","useState","EditTodo","todo","description","setDescription","updateDescription","e","preventDefault","body","fetch","todo_id","method","headers","JSON","stringify","response","window","location","console","error","message","target","value"],"sources":["C:/Users/Admin/Documents/js/backend/pern-todo-again/client/src/components/EditTodo.js"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\nconst EditTodo = ({ todo }) => {\r\n  const [description, setDescription] = useState(todo.description);\r\n\r\n  //edit description function\r\n\r\n  const updateDescription = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n      const response = await fetch(\r\n        `http://localhost:5000/todos/${todo.todo_id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(body),\r\n        }\r\n      );\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.todo_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n\r\n      {/* \r\n        id = id10\r\n      */}\r\n      <div\r\n        class=\"modal\"\r\n        id={`id${todo.todo_id}`}\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h4 class=\"modal-title\">Edit Todo</h4>\r\n              <button\r\n                type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => updateDescription(e)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EditTodo;\r\n"],"mappings":"gcAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAc,IAAXC,KAAW,MAAXA,IAAW,CAC7B,cAAsCF,QAAQ,CAACE,IAAI,CAACC,WAAN,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eAEA;AAEA,GAAMC,kBAAiB,6FAAG,iBAAOC,CAAP,sIACxBA,CAAC,CAACC,cAAF,GADwB,gBAGhBC,IAHgB,CAGT,CAAEL,WAAW,CAAXA,WAAF,CAHS,uBAICM,MAAK,uCACKP,IAAI,CAACQ,OADV,EAE1B,CACEC,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFX,CAGEJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAHR,CAF0B,CAJN,QAIhBO,QAJgB,eAatBC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAbsB,+EAetBC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAfsB,oEAAH,kBAAjBf,kBAAiB,6CAAvB,CAmBA,mBACE,MAAC,QAAD,yBACE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iBAFR,CAGE,cAAY,OAHd,CAIE,2BAAmBH,IAAI,CAACQ,OAAxB,CAJF,kBADF,cAaE,YACE,KAAK,CAAC,OADR,CAEE,EAAE,aAAOR,IAAI,CAACQ,OAAZ,CAFJ,CAGE,OAAO,CAAE,yBAAMN,eAAc,CAACF,IAAI,CAACC,WAAN,CAApB,EAHX,uBAKE,YAAK,KAAK,CAAC,cAAX,uBACE,aAAK,KAAK,CAAC,eAAX,wBACE,aAAK,KAAK,CAAC,cAAX,wBACE,WAAI,KAAK,CAAC,aAAV,uBADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,OAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMC,eAAc,CAACF,IAAI,CAACC,WAAN,CAApB,EAJX,kBAFF,GADF,cAaE,YAAK,KAAK,CAAC,YAAX,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,KAAK,CAAEA,WAHT,CAIE,QAAQ,CAAE,kBAACG,CAAD,QAAOF,eAAc,CAACE,CAAC,CAACe,MAAF,CAASC,KAAV,CAArB,EAJZ,EADF,EAbF,cAsBE,aAAK,KAAK,CAAC,cAAX,wBACE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iBAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,iBAAChB,CAAD,QAAOD,kBAAiB,CAACC,CAAD,CAAxB,EAJX,kBADF,cASE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,gBAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMF,eAAc,CAACF,IAAI,CAACC,WAAN,CAApB,EAJX,mBATF,GAtBF,GADF,EALF,EAbF,GADF,CAiED,CAzFD,CA2FA,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}